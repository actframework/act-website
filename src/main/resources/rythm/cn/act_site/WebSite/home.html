@extends(layout, title = "ActFramework Home")

@section("moreJs") {
<script src="/js/site.js"></script>
<script src="/js/prism.js" charset="utf-8"></script>
}

@section("moreCss") {
<link rel="stylesheet" href="/css/prism.css">
<link rel="stylesheet" href="/css/prism-line-numbers.css">
}


<div class="container">
  <section class="hero">
    <h1>ActFramework</h1>
    <h5>Java MVC 框架的最终幻想</h5>
    <a class="button button-primary" href="#start">马上使用!</a>
    <div class="value-props row">
      <div class="four columns value-prop">
        <img class="value-img" src="/image/development.png">
        无与伦比的开发体验 ． 卓越的性能
      </div>
      <div class="four columns value-prop">
        <img class="value-img" src="/image/tech.png">
        绝妙的RESTful支持　．　强大的后端页面生成
      </div>
      <div class="four columns value-prop">
        <img class="value-img" src="/image/security.png">
        安全从无如此简单
      </div>
    </div>
  </section>


  <div class="navbar-spacer"></div>
  <nav class="navbar">
    <div class="container">
      <ul class="navbar-list">
        <li class="navbar-item"><a class="navbar-link" href="/#intro">介绍</a></li>
        <li class="navbar-item"><a class="navbar-link" href="/doc/index">文档</a></li>
        <li class="navbar-item"><a class="navbar-link" href="/#start">使用</a></li>
        <li class="navbar-item"><a class="navbar-link" href="/#about">关于</a></li>
      </ul>
      <form action="/~i18n/locale" id="form_i18n" method="post">
        <input type="hidden" name="act_locale" value="zh_CN" id="act_locale">
      </form>
      <ul class="navbar-list u-pull-right">
        <li class="navbar-item"><a id="go_zh" class="navbar-link" href="#">中文</a></li>
        <li class="navbar-item u-pull-right"><a id="go_en" class="navbar-link" href="#">English</a></li>
      </ul>
    </div>
  </nav>

  <div class="docs-section" id="intro">
    <h6 class="docs-header">ActFramework 特性</h6>
    <p>
      ActFramework是一种简洁易用,具有强大表达力的Java MVC框架
    </p>
    <ul>
      <li>
        <h6 class="feature">
          全栈式框架
        </h6>
        <div class="feature-desc">
          ActFramework的应用都有自己的main方法, 通常在数秒之内完成启动
        </div>
        <div class="feature-desc alert alert-info">
          <i class="fa fa-info-circle"></i> Act不是一个Servlet架构的框架, Act应用不能部署到Servlet容器中
        </div>
      </li>
      <li>
        <h6 class="feature">无与伦比的开发体验</h6>
        <div class="feature-desc">
          Act support hot-reload application and it takes less than a second to reload
          your normal sized app (in our 10K LOC app, takes around 500ms to reload app). Hot reload happens
          when your Java source code, template code or configuration files has been changed
        </div>
      </li>
      <li>
        <h6 class="feature">依赖注入</h6>
        <div class="feature-desc">
          Fully JSR 330 support and even more:
        </div>
        <ul>
          <li>Inject parameter for methods including action handler, mail sender, job method etc</li>
          <li>Inject collections</li>
          <li>Customizable injection tag, e.g. <code>@@LoginUser</code></li>
        </ul>
      </li>
      <li>
        <h6 class="feature">单页/移动应用支持</h6>
        <div class="feature-desc">
          ActFramework对越来越广泛使用的前后端分离提供了非常顺手的支持:
        </div>
        <ul>
          <li>
            RESTful 支持
          </li>
          <li>
            内置 CORS 支持
          </li>
          <li>
            回话/Header映射
          </li>
        </ul>
      </li>
      <li>
        <h6 class="feature">绝不忽略的安全性</h6>
        <div class="feature-desc">
          ActFramework is a security aware framework, it built uncompromised security support into your application
          <ul>
            <li>Session cookie is secure and http only, payload is signed and encrypted (optionally)</li>
            <li>Enable CSRF prevention with just one configuration item</li>
            <li>XSS prevention: Rythm engine escape variable output by default</li>
            <li>Implementing your authentication/authorisation/accounting framework using
              <a href="https://github.com/actframework/act-aaa-plugin">AAA plugin</a>
            </li>
          </ul>
        </div>
      </li>
      <li>
        <h6 class="feature">使用但不过分依赖注解</h6>
        <div class="feature-desc">
          Annotation is one of the tool ActFramework used to increase expressiveness. However we do not appreciate
          <a href="http://annotatiomania.com/">crazy annotation stacked code</a>. Instead we make the code to express
          the intention in a natural way and save the use of annotation whenever possible. For example, for the following
          SpringMVC code:
<pre class="line-numbers"><code class="language-java">@@RequestMapping(value="/user/{userId}/invoices", method = RequestMethod.GET)
public List<Invoice> listUsersInvoices(
   @@PathVariable("userId") int user,
   @@RequestParam(value = "date", required = false) Date dateOrNull) {
  ...
}
</code></pre>
          The corresponding ActFramework app code is:
<pre class="line-numbers"><code class="language-java">@@GetAction("/user/{user}/invoices")
public List<Invoice> listUsersInvoices(int user, Date date) {
  ...
}
</code></pre>
          No doubt ActFramework code is simpler and clearer when comparing with SpringMVC code.
        </div>
      </li>
      <li>
        <h6 class="feature">不同运行环境下的配置支持</h6>
        <div class="feature-desc">
          ActFramework supports the concept of <code>profile</code>. When an application is started with JVM option
          <code>-Dprofile=uat</code>, Act will load the configuration properties files from <code>/conf/uat</code>
          folder after all properties files has been loaded from <code>/conf/common</code> folder. This mechanism allows
          app developer to create common configuration set and adjust parts of configuration items using profile
          configuration set.
        </div>
      </li>
      <li>
        <h6 class="feature">Simple yet powerful database support</h6>
        <div class="feature-desc">
          ActFramework provides a descent set of database access API via <code>act.db.Dao</code> and relevant interfaces.
        </div>
        <ul>
          <li class="feature-desc">
            <a href="https://github.com/actframework/act-ebean">act-ebean</a> plugin implemented the ActFramework
            database layer based on the fast and simple <a href="http://ebean-orm.github.io/">ebean ORM</a> library,
            which works with most SQL database solutions on the market
          </li>
          <li class="feature-desc">
            <a href="https://github.com/actframework/act-morphia">act-morphia</a> plugin implemented the ActFramework
            database layer based on the official <a href="https://mongodb.github.io/morphia/">Morphia</a> document
            mapper for MongoDB
          </li>
        </ul>
      </li>
      <li>
        <h6 class="feature">Multiple database support</h6>
        <div class="feature-desc">
          It is not unusual for today's application to play with multiple and even heterogeneous database storage. And
          Act has already built-in the support for that. For example:
        </div>
<pre class="line-numbers"><code class="language-properties"># the database configuration
db.instances=mongo,sql

# db1 configurations
db.mongo.impl=act.db.morphia.MorphiaPlugin
db.mongo.uri=mongodb://localhost/myapp

db.sql.impl=act.db.ebean.EbeanPlugin
db.url=jdbc:h2:./myapp
db.ddl.createOnly=true
</code></pre>
<pre class="line-numbers"><code class="language-java">// -- the model that require transaction go SQL
@@DB("sql")
@@Entity(name = "va")
public class VirtualAccount{
    @@Id
    private Long id;

    @@Index(unique = true)
    public String ownerId;

    // balance in cents
    public int balance;
}
</code></pre>
<pre class="line-numbers"><code class="language-java">// -- the model does not require transaction go MongoDB
@@DB("mongo")
@@Entity("trans")
public static class Transaction extends MorphiaModel<Transaction> {

    /**
     * Stores from account owner ID
     */
    public String creditAcc;
    /**
     * Stores to account owner ID
     */
    public String debitAcc;
    /**
     * Stores the transaction amount
     */
    public int amount;
    ...
}
</code></pre>
        <div class="feature-desc">
          The above code shows how to configure two databases with one for SQL database and the other one for MongoDB.
          Once you have two database configured, it is super easy to map your model class to database via the
          <code>@@DB</code> annotation
        </div>
      </li>
      <li>
        <h6 class="feature">Powerful view architecture with multiple render engine support</h6>
        <div class="feature-desc">
          For more traditional application that require server side page rendering,
          ActFramework by default use the <a href="http://rythmengine.org/">Rythm Template Engine</a>. And it
          supports using your favorite template engine including:
          <ul>
            <li>
              <a href="http://velocity.apache.org/">Velocity</a> 通过
              <a href="https://github.com/actframework/act-velocity">Velocity插件</a>
            </li>
            <li>
              <a href="http://freemarker.org/">FreeMarker</a> 通过
              <a href="https://github.com/actframework/act-freemarker">FreeMarker插件</a>
            </li>
            <li>
              <a href="http://www.thymeleaf.org/">Thymeleaf</a> 通过
              <a href="https://github.com/actframework/act-thymeleaf">Thymeleaf插件</a>
            </li>
            <li>
              <a href="https://mustache.github.io/">Mustache</a> 通过
              <a href="https://github.com/actframework/act-mustache">Mustache插件</a>
            </li>
            <li>
              <a href="http://ibeetl.com/">Beetl</a> 通过
              <a href="https://github.com/actframework/act-beetl">Beetl插件</a>
            </li>
          </ul>
        </div>
        <div class="feature-desc">
          ActFramework支持在一个项目中使用多种不同的模板引擎
        </div>
      </li>
      <li>
        <h6 class="feature">其他特性</h6>
        <div class="feature-desc">
          ActFramework提供了丰富的功能足够满足你应用开发的大部分需求：
          <ul>
            <li>发送邮件</li>
            <li>作业调度</li>
            <li>事件分派</li>
          </ul>
        </div>
      </li>
    </ul>
  </div>

  <div class="docs-section" id="start">
    <h6 class="docs-header">开始使用ActFramework</h6>
    <div>
      选择下载一个ActFramework应用示例作为你的项目基础：
    </div>
    <ul>
      @def download(String title, String desc, String file) {
      <li class="download">
        <div class="header">@title</div>
        <div class="row">
          <div class="desc nine columns">@desc</div>
          <div class="three columns">
            <a href="/skeleton/@file">
              <i class="fa fa-download"></i>
              &nbsp;Download
            </a>
          </div>
        </div>
      </li>
      }
      @download("Hello World", "一个最简单的ActFramework应用", "helloworld-0.0.1.zip")
    </ul>
  </div>

  <div class="docs-section" id="about">
    <h6 class="docs-header">为什么开发ActFramework</h6>
    <p>
      长话短说，我需要一个简洁、优雅而不特立独行的Java MVC框架。我不能从Spring MVC/PlayFramework/SparkFramework以及
      其他众多的Java框架中得到我所希求的
    </p>
    <p>
      背后的故事。大概在2009年底的，作为独立技术顾问，我刚刚结束了一个CakePHP的项目。感觉非常不爽，决定
      回到我所钟爱的Java世界来。但又对当时处于主宰地位的Spring/Struts之流不是特别满意。所以开始寻找新的
      Java开发框架。PlayFramework作为当时的新兵进入了我的视野，经过一次简单的尝试，我觉得这就是我一直寻求
      的东西。
    </p>
    <p>
      我热爱PlayFramework（仅限v1.x），因为其简单，干净并富于表达力。它给Javaer们带来一种崭新的体验。遗憾
      的是Play团队在开发2.x版本的时候完全废弃了1.x的代码，并尝试他们新的开发哲学。而我并不是特别感冒。后来
      发生的<a href="https://groups.google.com/d/msg/play-framework/AcZs8GXNWUc/IanbqC-c-MkJ" target="_blank">
      事情</a>证明了我并不是唯一这样想的人
    </p>
    <p>
      我
      <a target="_blank" href="http://software-lgl.blogspot.com.au/2012/12/thinking-about-creating-new-java-web.html">
      开始思考</a>沿着Play 1.x的道路构造一个新的框架。大概一年半之后经过了几个使用Spring的项目的“痛苦”经历，我决定开始这个
      新框架项目。两年多的开发终于开花结果了：这就是我理想中的MVC框架 ———— ActFramework
    </p>
    <h6 class="docs-header">技术支持</h6>
    <p>
      正在构建中．．．
    </p>
  </div>

</div>
<script>
    function switchLocale(locale) {
        $('#act_locale').val(locale);
        $('#form_i18n').get(0).submit();
        return false;
    }

    $('body').on('click', '#go_en', function () {
        return switchLocale('en_AU');
    });
    $('body').on('click', '#go_zh', function () {
        return switchLocale('zh_CN');
    });
</script>
